# Отображение списка наиболее доходных облигаций

## Основные функции 

Представляет собой html-страницу по адресу top.html, которая выводит список наиболее доходных облигаций с интерактивными фильтрами и автоматическим поиском.

## Технические требования

### Базовая функциональность
- Страница соответствует шаблону top-bonds.html
- Использование шаблонизатора Thymeleaf
- В таблице выводятся только облигации с доходностью не выше 50%
- После названия облигации отображается рейтинг

### Визуализация и стилизация
- Колонка "Годовая доходность" раскрашивается градиентом относительно ключевой ставки 18%:
  - На уровне 18% - зеленый цвет
  - Выше 18% - постепенный переход: желтый → красный → бордовый
  - При двукратном превышении (36%+) - бордовый цвет
- Строки с информацией по оферте выделяются зеленым цветом (кроме столбца с градиентом)
- Индикатор "ОФЕРТА" для соответствующих строк

### Фильтрация и поиск
- Все фильтры размещены в одну строку вверху страницы
- **Количество тикеров**: числовое поле для лимита результатов (по умолчанию 50)
- **Диапазон недель до погашения**: два числовых поля "от" и "до" (по умолчанию 0-26)
- **Поиск по тикеру/названию**: 
  - Автоматический поиск при вводе 3+ символов
  - Debounce задержка 500мс для оптимизации
  - Индикатор загрузки во время поиска
  - Сохранение позиции курсора при обновлении
- **Чекбокс "По оферте, если возможно"**:
  - Мгновенное обновление таблицы при переключении
  - Показывает данные по оферте вместо погашения

### Режим оферты
При включении опции "По оферте, если возможно":
- В колонках "Доходы" отображаются показатели доходности по оферте
- В колонке "Чистая прибыль" показывается прибыль по оферте
- В колонке "Погашение" указывается дата оферты вместо даты погашения
- Строки с офертными данными выделяются зеленым фоном
- Фильтрация по доходности происходит на backend независимо от типа (к погашению или к оферте)

### Сортировка
- Первичная сортировка: по FLOOR(доходность) в убывающем порядке
- Вторичная сортировка: по rating_code в возрастающем порядке (надежные компании выше)
- Третичная сортировка: по точной доходности в убывающем порядке

### Интерактивность
- Автоматическая отправка формы при изменении чекбокса оферты
- Сохранение фокуса и позиции курсора в поле поиска
- Debounce для поискового запроса (500мс)
- Единственная кнопка "Обновить" для ручного применения фильтров

### Адаптивность
- Контейнер шириной до 1600px для размещения всех фильтров в одну строку
- Компактные размеры полей ввода для оптимального использования пространства
- Responsive дизайн с возможностью переноса фильтров на маленьких экранах